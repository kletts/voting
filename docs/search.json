[
  {
    "objectID": "PrefFlow2022.html",
    "href": "PrefFlow2022.html",
    "title": "Preferential Voting 2022",
    "section": "",
    "text": "Data source: AEC\n\nOverall preference distributions\n\n\n\n\n\n\n  \n    \n      Australian 2022 General Election Lower House Preference Flows\n    \n    \n      Preference flows from political party candidates \n               to the top ten party preference recipients. Excludes preferences flowing \n               from and to all independent and non-aligned candidates.\n    \n    \n      Preferences from:\n      \n        Preference flow to:\n      \n    \n    \n      ALP\n      LP\n      ON\n      LNP\n      GRN\n      UAPP\n      NP\n      GVIC\n      LDP\n      XEN\n      Other\n    \n  \n  \n    AJP\nAnimal Justice Party\n18.1%\n8.6%\n11.1%\n3.3%\n26.5%\n10.0%\n0.3%\n12.8%\n1.9%\n0.5%\n6.8%\n    ALP\nAustralian Labor Party \n-\n22.0%\n-\n14.1%\n36.5%\n-\n7.9%\n-\n-\n12.2%\n7.3%\n    ASP\nShooters, Fishers and Farmers Party\n18.0%\n11.9%\n37.0%\n4.6%\n6.6%\n5.2%\n11.5%\n-\n5.2%\n-\n-\n    AUC\nAustralian Christians\n10.8%\n44.2%\n22.3%\n-\n7.3%\n7.5%\n-\n-\n-\n-\n7.9%\n    AUD\nAustralian Democrats\n27.8%\n12.4%\n3.1%\n-\n18.7%\n8.3%\n-\n-\n9.9%\n-\n19.8%\n    AUP\nAustralian Progressives\n12.8%\n3.0%\n6.3%\n3.7%\n35.6%\n8.3%\n-\n-\n6.9%\n-\n23.3%\n    AUVA\nAustralian Values Party\n11.8%\n0.5%\n26.5%\n15.2%\n14.4%\n15.5%\n-\n0.5%\n3.3%\n-\n12.2%\n    CEC\nAustralian Citizens Party\n18.7%\n8.0%\n13.6%\n-\n15.6%\n16.8%\n3.8%\n4.0%\n5.7%\n-\n13.7%\n    CYA\nAustralian Federation Party\n12.0%\n8.9%\n24.3%\n1.6%\n6.7%\n15.8%\n0.4%\n3.6%\n8.7%\n0.2%\n17.9%\n    DHJP\nDerryn Hinch's Justice Party\n13.6%\n17.3%\n21.3%\n-\n-\n12.4%\n1.0%\n11.9%\n7.1%\n-\n15.4%\n    DPDA\nDrew Pavlou Democratic Alliance\n23.0%\n20.2%\n4.9%\n-\n24.4%\n6.6%\n-\n-\n7.6%\n-\n13.3%\n    GAP\nThe Great Australian Party\n11.2%\n7.1%\n43.8%\n1.5%\n9.7%\n12.9%\n1.0%\n0.8%\n0.7%\n-\n11.3%\n    GRN\nAustralian Greens\n75.8%\n12.2%\n2.9%\n5.6%\n-\n0.4%\n1.3%\n-\n0.1%\n0.5%\n1.1%\n    GVIC\nThe Australian Greens - Victoria\n79.5%\n16.8%\n0.4%\n-\n-\n2.7%\n0.6%\n-\n0.0%\n-\n-\n    HMP\nLegalise Cannabis Australia\n21.1%\n-\n31.8%\n12.8%\n34.2%\n-\n-\n-\n-\n-\n-\n    IAP\nIndigenous - Aboriginal Party of Australia\n31.8%\n1.2%\n17.4%\n-\n7.9%\n2.1%\n17.3%\n-\n18.4%\n-\n3.9%\n    IMO\nInformed Medical Options Party\n10.2%\n4.2%\n28.3%\n3.6%\n14.5%\n21.3%\n1.0%\n-\n4.2%\n-\n12.7%\n    JLN\nJacqui Lambie Network\n52.3%\n37.5%\n-\n-\n10.3%\n-\n-\n-\n-\n-\n-\n    KAP\nKatter's Australian Party \n26.5%\n-\n23.7%\n43.7%\n6.0%\n-\n-\n-\n-\n-\n-\n    LDP\nLiberal Democratic Party\n13.6%\n23.2%\n16.7%\n4.1%\n5.5%\n19.8%\n9.9%\n3.0%\n-\n0.1%\n4.0%\n    LP\nLiberal Party of Australia \n59.9%\n-\n-\n-\n16.9%\n-\n11.6%\n11.6%\n-\n-\n-\n    NP\nNational Party of Australia  Inc.\n27.2%\n65.6%\n5.7%\n-\n0.7%\n0.8%\n-\n-\n-\n-\n-\n    ON\nPauline Hanson's One Nation\n25.0%\n21.6%\n-\n19.4%\n10.6%\n10.6%\n8.2%\n1.5%\n1.3%\n0.3%\n1.6%\n    REAS\nReason Australia\n23.2%\n9.2%\n-\n-\n-\n6.1%\n-\n53.8%\n7.7%\n-\n-\n    SAL\nSocialist Alliance\n18.4%\n7.1%\n4.3%\n8.1%\n19.2%\n4.8%\n-\n31.1%\n0.9%\n-\n6.1%\n    SOPA\nFUSION: Science, Pirate, Secular, Climate Emergency\n17.9%\n8.8%\n5.0%\n0.4%\n41.5%\n10.9%\n0.3%\n6.2%\n1.1%\n-\n8.1%\n    SPP\nSustainable Australia Party - Stop Overdevelopment / Corruption\n20.4%\n9.3%\n12.2%\n-\n25.7%\n8.0%\n-\n2.3%\n20.6%\n-\n1.6%\n    TLOC\nThe Local Party of Australia\n28.7%\n12.3%\n0.7%\n-\n29.7%\n0.8%\n-\n-\n0.3%\n-\n27.4%\n    TNL\nTNL\n20.8%\n8.9%\n13.0%\n5.9%\n17.8%\n8.6%\n0.5%\n11.8%\n4.9%\n-\n7.9%\n    UAPP\nUnited Australia Party\n20.5%\n31.1%\n27.5%\n3.8%\n7.3%\n-\n1.5%\n4.6%\n1.4%\n0.1%\n2.1%\n    VNS\nVictorian Socialists\n16.0%\n7.6%\n3.0%\n-\n-\n10.0%\n-\n56.2%\n0.9%\n-\n6.4%\n    WAP\nWESTERN AUSTRALIA PARTY\n23.1%\n20.1%\n20.8%\n-\n18.9%\n6.9%\n0.8%\n-\n-\n-\n9.2%\n  \n  \n  \n\n\n\n\n\n\nSeat by seat preference distributions\n\nimport {Plot} from \"@mkfreeman/plot-tooltip\";\nimport {addTooltips} from \"@mkfreeman/plot-tooltip\";\nimport {aq, dt, op} from \"@uwdata/arquero\"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\ndata = aq.fromCSV(await FileAttachment('data/prefflows2022.csv').text())\n\n\n\n\n\n\n\nmake_pptable = function(data, division) {  \n  if (division===null) { \n    var division = data.slice(0,1).get('DivisionNm'); \n  } else { \n    var division = division[\"DivisionNm\"]; \n  }\n  var dataf = data.params({sdivision: division}).\n      filter((d,$)=&gt; d.DivisionNm === $.sdivision).\n      derive({ PrefFlow: d=&gt; d.PrefFlow/op.sum(d.PrefFlow) })\n  var datapp = dataf.groupby('PartyAb').\n    rollup({PrefFlow: d =&gt; op.sum(d.PrefFlow) }).\n    derive({ FromPartyAb: d =&gt;  \"TwoPP\" })\n  var datafinal = dataf.select('PartyAb', 'FromPartyAb', 'PrefFlow').\n    concat(datapp)\n  return datafinal; \n}\n\n\n\n\n\n\n\naq.addFunction(\"pcf\", d3.format(\".02%\"))\n\n\n\n\n\n\n\nrecodestate = ({\"New South Wales\": \"NSW\", \n               \"Victoria\": \"VIC\", \n               \"Queensland\": \"QLD\", \n               \"South Australia\": \"SA\", \n               \"Western Australia\": \"WA\", \n               \"Tasmania\": \"TAS\", \n               \"Northern Territory\": \"NT\", \n               \"Australian Capital Territory\": \"ACT\"})\n\n\n\n\n\n\n\nviewof stateselect = Inputs.select(Object.keys(recodestate), \n    {value: \"NSW\", label: \"State/Territory\", multiple: false })\n\n\n\n\n\n\nSelect a division/electorate:\n\nviewof divisionselect = Inputs.table(Object(data.params({sstate: recodestate[stateselect] }).\n      filter((d,$) =&gt; d.StateAb === $.sstate).\n      groupby('StateAb', 'DivisionNm').\n      rollup({ Candidates: d =&gt; op.distinct(d.CandidateId) }).\n      orderby('StateAb','DivisionNm')), { multiple: false, value: d =&gt; d[1] });\n\n\n\n\n\n\n\nlabel_division = function(divisionselect, data, stateselect) { \n  if (divisionselect === null) { \n    return data.\n      params({ ss: stateselect }).\n      filter((d,$) =&gt; d.StateAb === $.ss).\n      slice(0,1).get('DivisionNm')\n  } else { \n    return divisionselect[\"DivisionNm\"];\n  }}\n\n\n\n\n\n\n\nmd`Preference count for the division of **${label_division(divisionselect, data, recodestate[stateselect])}**`;\n\n\n\n\n\n\n\nPlot.plot({\n  color: { legend: true },\n  y: { tickFormat: d =&gt; d3.format(\".1%\")(d) },\n  marks: [ Plot.frame(), \n    Plot.ruleY([0]),\n    Plot.barY(make_pptable(data, divisionselect).filter( d =&gt; d.FromPartyAb != \"TwoPP\" ),\n                  {x: 'PartyAb', y: 'PrefFlow', fill: 'FromPartyAb' }), \n    Plot.barY(make_pptable(data, divisionselect).filter( d =&gt; d.FromPartyAb != \"TwoPP\" ),\n                  {x: 'PartyAb', y: d =&gt; d.PrefFlow*1.1, fill: null }) \n  ]})\n\n\n\n\n\n\n\nmake_pptable(data, divisionselect).groupby('PartyAb').\n    derive({ PrefFlow: d =&gt; d.PrefFlow===0 ? \"..\" : aq.pcf(d.PrefFlow) }).\n    pivot('FromPartyAb', 'PrefFlow', { sort: false}).\n    relocate('FirstPref', { after: 'PartyAb'}).view()"
  },
  {
    "objectID": "LeftRight.html",
    "href": "LeftRight.html",
    "title": "Left Right Differences of Australian Parties",
    "section": "",
    "text": "Plot = import(\"https://cdn.jsdelivr.net/npm/@observablehq/plot/+esm\")"
  },
  {
    "objectID": "LeftRight.html#electoral-ratings",
    "href": "LeftRight.html#electoral-ratings",
    "title": "Left Right Differences of Australian Parties",
    "section": "Electoral ratings",
    "text": "Electoral ratings\n\nPlot.plot({ \n  height: 300,\n  color: { legend: true },\n  r: { range: [0, 8] }, \n  x: { axis: null, clip: false }, \n  y: { axis: null },\n  clip: false, \n  margin: 30,\n  marks: [ \n    Plot.ruleY([0]),\n    Plot.dotX(transpose(elect), \n    Plot.dodgeY({x: \"Right\", \n                 tip: true, \n                 title: d =&gt; d.StateAb +  \"\\n\" + d.DivisionNm, \n                 fill: \"PartyAb\",  //\"StateAb\", \n                 r: \"Votes\", \n                 anchor: \"middle\" \n                }))\n  ]\n})\n\n\n\n\n\nFigure 1: Left-Right Distribution of Electorates based on First Preferences"
  },
  {
    "objectID": "LeftRight.html#candidates",
    "href": "LeftRight.html#candidates",
    "title": "Left Right Differences of Australian Parties",
    "section": "Candidates",
    "text": "Candidates\n\nPlot.plot({ \n  height: 300, \n  color: { legend: false, scheme: \"BuRd\", type: \"sequential\", reverse: true },\n  r: { range: [0, 50] }, \n  x: { axis: null, clip: false }, \n  y: { axis: null },\n  //clip: false, \n  margin: 30,\n  marks: [ \n    Plot.ruleY([0]),\n    Plot.dotX(transpose(candi).filter(d =&gt; ![\"ALP\", \"LP\", \"LNP\", \"NP\"].includes(d.FromPartyAb)), \n    Plot.dodgeY({x: \"Right\", \n                 tip: true, \n                 title: d =&gt; d.FromPartyAb + \"\\n\" + d.PartyNm,\n                 fill: \"Right\",\n                 r: \"Votes\", \n                 anchor: \"middle\" \n                }))\n  ]\n})\n\n\n\n\n\nFigure 2: Left-Right Distribution of Minor Parties and Independents based on Left-Right Preference Redistribution"
  }
]